# 🏐 KOVO V-League Match Prediction AI

> **한국 프로배구(KOVO) 경기 결과를 예측하고, 데이터 기반의 베팅 가이드를 제공하는 머신러닝 프로젝트입니다.**

## 📌 프로젝트 소개 (Overview)

이 프로젝트는 KOVO 남자부/여자부 경기의 상세 데이터를 수집, 분석하여 승패와 세트 스코어를 예측합니다.
단순한 승률 계산을 넘어, **ELO 레이팅**, **최근 5경기 폼(Form)**, **휴식일**, **상성 데이터**를 종합적으로 고려하며, 특히 **'물리적 정합성(Physics-Informed)'** 제약을 건 AI 모델을 사용하여 논리적인 예측 결과를 도출합니다.

## ✨ 주요 기능 (Key Features)

- **🔄 스마트 데이터 수집**:
  - KOVO 공식 API를 통해 실시간에 가까운 데이터를 크롤링합니다.
  - 이미 수집된 데이터는 건너뛰고, 변동된 부분만 업데이트하는 '증분 수집(Incremental Update)' 기능을 탑재했습니다.
- **🤖 논리적 제약 AI 모델 (Logic-Constrained ML)**:
  - "범실이 많으면 승률이 떨어진다"와 같은 물리적 법칙을 모델에 강제로 학습시켜, 데이터 노이즈로 인한 비상식적인 예측을 방지합니다.
- **📊 정밀한 스코어 예측**:
  - Grid Search를 통해 검증된 승률 임계값(Threshold)을 적용하여 `3:0`, `3:1`, `3:2` 스코어를 구분합니다.
- **💰 베팅 가이드라인**:
  - 승리 확률에 따라 `마핸(마이너스 핸디캡)`, `플핸`, `오버/언더`, `패스` 등의 구체적인 전략을 제안합니다.

## 🛠 사용 기술 (Tech Stack)

- **Language**: Python 3.9+
- **Data Collection**: `requests`, `cloudscraper`
- **Data Processing**: `pandas`, `numpy`
- **Machine Learning**: `scikit-learn` (Logistic Regression, Ridge Regression)
- **Serialization**: `pickle`

## 📂 파일 구조 (File Structure)

이 프로젝트는 5단계의 파이프라인으로 구성되어 있습니다.

|        파일명         | 역할            | 설명                                                                          |
| :-------------------: | :-------------- | :---------------------------------------------------------------------------- |
|     **schedule.py**      | 일정 수집       | 최근 5개 시즌의 경기 일정과 기본 결과를 수집합니다.                           |
|     **collect.py**      | 상세 크롤링     | 경기별 선수 기록, 팀 기록 등 세부 데이터를 수집합니다. (스마트 업데이트 적용) |
|     **process.py**      | 데이터 전처리   | JSON 형태의 원본 데이터를 분석 가능한 CSV(Tabular) 형태로 가공합니다.         |
|     **train.py**      | 모델 학습       | ELO 및 파생 변수를 생성하고, 논리 제약이 적용된 AI 모델을 학습시킵니다.       |
|     **predict_t.py**      | 승부 예측       | 학습된 모델을 불러와 오늘의 경기 결과를 예측하고 분석 리포트를 출력합니다.    |
| **daily_auto_run.py** | **자동 실행기** | 위 1~5번 과정을 순서대로 자동 실행하는 메인 스크립트입니다.                   |

## 🚀 설치 및 실행 방법 (How to Run)

### 1. 필수 라이브러리 설치

```bash
pip install pandas numpy scikit-learn cloudscraper requests
```

2. 전체 파이프라인 자동 실행 (추천)

매일 경기가 끝난 후 혹은 경기 전에 아래 명령어를 실행하면, 데이터 업데이트부터 예측까지 한 번에 수행됩니다.

Bash
python daily_auto_run.py 3. 개별 실행

특정 단계만 실행하고 싶다면 개별 파일을 실행하세요.

Bash
python vk_01.py # 일정 업데이트
python vk_05.py # 예측만 다시 보기
📈 예측 로직 상세
ELO Rating 산출: 모든 경기를 날짜순으로 복기하며 팀별 현재 ELO를 계산합니다.

Rolling Stats: 최근 5경기의 공격 성공률, 리시브 효율, 범실, 블로킹, 서브 기록을 가중 평균합니다.

Features: 양 팀의 ELO 차이, 휴식일 차이, 공/수 지표 차이를 계산하여 모델에 입력합니다.

Optimization: 승률 구간별 실제 경기 결과 분포를 분석하여 최적의 핸디캡 기준점을 설정했습니다.

승률 60% 이상: 3:0 셧아웃 예상

승률 53% ~ 60%: 3:1 우세 예상

승률 50% ~ 53%: 3:2 풀세트 접전 예상

⚠️ 면책 조항 (Disclaimer)
이 프로젝트의 예측 결과는 과거 데이터를 기반으로 한 통계적 추정치일 뿐입니다. 실제 경기 결과는 당일 선수의 컨디션, 부상, 작전 등 다양한 변수에 의해 달라질 수 있습니다. 이 정보를 활용한 투자의 책임은 전적으로 사용자 본인에게 있습니다.

---

### 💾 README.md 파일 만드는 방법

VS Code를 사용 중이시므로 아주 간단합니다.

1.  **VS Code**를 켭니다.
2.  왼쪽 파일 탐색기(Explorer)의 빈 공간을 우클릭하고 **[New File]** (새 파일)을 선택합니다.
3.  파일 이름을 **`README.md`** 라고 입력하고 엔터를 칩니다. (대문자로 쓰는 게 관례입니다.)
4.  새로 생긴 창에 **위의 내용을 복사해서 붙여넣습니다.**
5.  `Ctrl + S` (맥은 `Cmd + S`)를 눌러 저장합니다.

### 📤 깃허브에 올리기 (마무리)

파일을 저장했다면, 이제 깃허브에도 이 멋진 설명서를 올려야겠죠?
VS Code 터미널(`Ctrl + ~`)을 열고 아래 명령어를 순서대로 입력하세요.

```bash
git add README.md
git commit -m "Add project documentation"
git push
이제 깃허브 페이지에 가보시면, 프로젝트 설명이 예쁘게 대문에 걸려 있을 겁니다!
```
